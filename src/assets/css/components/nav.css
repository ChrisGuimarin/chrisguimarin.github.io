/* ==========================================================================
   Navigation
   ========================================================================== */

/* Primary Navigation */
nav {
    margin-bottom: var(--spacing-md);
}

nav a {
    color: inherit;
    text-decoration: none;
}

nav ul {
    list-style: none;
    padding: 0;
    display: flex;
    gap: var(--spacing-xs);
}

nav li:not(:last-child)::after {
    content: "/";
    margin-left: var(--spacing-xs);
    color: var(--color-text-muted);
}

nav a[aria-current="page"] {
    font-weight: bold;
}

/* Secondary Navigation */
.sub-nav {
    margin-bottom: var(--spacing-md);
}

.sub-nav a {
    color: var(--color-text-muted);
    text-decoration: none;
}

nav a:hover,
.sub-nav a:hover {
    text-decoration: underline;
}

/* Mobile Navigation: horizontal scroll (same breakpoint as profile photo) */
@media (width <= 500px) {
    nav {
        /* horizontal scroll behavior */
        --nav-fade: 16px; /* edge fade width */

        width: 100%;
        max-width: 100vw; /* constrain nav width to viewport */
        overflow: auto hidden;
        -webkit-overflow-scrolling: touch;
        overscroll-behavior-x: contain; /* avoid scroll chaining to body */
        touch-action: pan-x;
        scrollbar-gutter: stable;
        padding: 0 var(--spacing-xs);
        position: relative;

        /* subtle edge fades using masks; keeps scrollbar visible */
        mask-image: linear-gradient(
          to right,
          transparent 0,
          black var(--nav-fade),
          black calc(100% - var(--nav-fade)),
          transparent 100%
        );
    }

    /* Make the list size to its content so the container can scroll */
    nav ul {
        display: inline-flex;
        gap: var(--spacing-xs);
        white-space: nowrap;
        min-width: max-content;
        padding-bottom: 0.25rem; /* avoid scrollbar overlaying text on some browsers */
    }

    /* Prevent items from shrinking so separators stay consistent */
    nav li {
        flex: 0 0 auto;
    }
}
