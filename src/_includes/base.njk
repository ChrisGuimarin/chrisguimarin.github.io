<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{{ title }} â€“ Chris Guimarin</title>
    <link rel="stylesheet" href="/assets/css/main.css" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description" content="{{ description | default(site.description) }}" />

    <!-- Open Graph -->
    <meta property="og:title" content="{{ title }} â€“ Chris Guimarin" />
    <meta property="og:description" content="{{ description | default(site.description) }}" />
    <meta property="og:url" content="{{ site.url }}{{ page.url }}" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Chris Guimarin" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="{{ title }} â€“ Chris Guimarin" />
    <meta name="twitter:description" content="{{ description | default(site.description) }}" />

    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; font-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; script-src 'self'; img-src 'self' data:; form-action 'self' https://buttondown.com; connect-src 'self' https://buttondown.com; frame-ancestors 'none';">

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/assets/favicons/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/assets/favicons/android-chrome-512x512.png">
    <link rel="shortcut icon" href="/assets/favicons/favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- RSS Feeds -->
    <link rel="alternate" type="application/atom+xml" title="Chris Guimarin" href="/feed.xml">
    {% if page.url.startsWith('/writing/') %}
    <link rel="alternate" type="application/atom+xml" title="Chris Guimarin â€“ Writing" href="/writing/feed.xml">
    {% endif %}
  </head>

  <body>
    <div class="site-wrapper">
      <a href="#main-content" class="skip-link">Skip to main content</a>

      <nav>
        <ul>
          <li class="nav-link"><a href="/" {% if page.url == "/" %}aria-current="page"{% endif %}>Home</a></li>
          <!-- <li class="nav-link"><a href="/design/" {% if page.url == "/design/" %}aria-current="page"{% endif %}>Design</a></li> -->
          <li class="nav-link"><a href="/theater/" {% if page.url == "/theater/" %}aria-current="page"{% endif %}>Theater</a></li>
          <li class="nav-link"><a href="/projects/" {% if page.url == "/projects/" %}aria-current="page"{% endif %}>Projects</a></li>
          <li class="nav-link"><a href="/shelf/" {% if page.url == "/shelf/" %}aria-current="page"{% endif %}>Shelf</a></li>
          <li class="nav-link"><a href="/about/" {% if page.url == "/about/" %}aria-current="page"{% endif %}>About</a></li>
          <!-- Theme toggle and reset buttons do NOT get the nav-link class -->
          <li class="theme-toggle-group" role="group" aria-label="Theme controls">
            <button 
              id="theme-toggle" 
              aria-label="Toggle dark mode"
              title="Toggle dark mode">
              <span class="theme-toggle-light">â˜€ï¸</span>
              <span class="theme-toggle-dark">ğŸŒ™</span>
            </button>
            <button
              id="theme-reset"
              aria-label="Reset theme to system default"
              title="Reset theme to system default">
              â™»ï¸
            </button>
          </li>
        </ul>
      </nav>

      <main id="main-content">
        {{ content | safe }}
      </main>

      {% include "newsletter.njk" %}

      <footer>
        {% include "social-links.njk" %}
        <p>Â© {% year %} Chris Guimarin. All opinions my own.</p>
      </footer>
    </div>

    <script src="/assets/js/theme-toggle.js"></script>
    <script src="/assets/js/newsletter.js"></script>
  </body>
</html>
